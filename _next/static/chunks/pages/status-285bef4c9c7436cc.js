(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[465],{9377:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/status",function(){return r(2733)}])},4910:function(t,e,r){"use strict";r.d(e,{l:function(){return o}});let o={borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(212 212 212 / var(--tw-border-opacity))",".dark &":{borderColor:"rgb(212 212 212 / 0.5)"}}},9481:function(t,e,r){"use strict";r.d(e,{H1:function(){return s},H2:function(){return a},X:function(){return c}});var o=r(5893),i=r(9521);r(7294);var n=r(6950);let s=t=>{let{children:e,...r}=t;return(0,o.jsx)(l,{...r,$_css:[n.Ih,{paddingTop:"2rem",paddingBottom:"2rem",fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"800","@media (min-width: 640px)":{fontSize:"2.25rem",lineHeight:"2.5rem"},"@media (min-width: 768px)":{fontSize:"3rem",lineHeight:"1"}}].concat(r.css),children:e})},a=t=>{let{children:e,...r}=t;return(0,o.jsx)(d,{...r,$_css2:[n.Ih,{paddingTop:"2rem",paddingBottom:"2rem",fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","@media (min-width: 640px)":{fontSize:"1.875rem",lineHeight:"2.25rem"},"@media (min-width: 768px)":{fontSize:"2.25rem",lineHeight:"2.5rem"}}].concat(r.css),children:e})},c=t=>{let{children:e,...r}=t;return(0,o.jsx)(m,{...r,$_css3:[n.Ih,{fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"600"}].concat(r.css),children:e})};var l=(0,i.ZP)("h1").withConfig({displayName:"Header___StyledH",componentId:"sc-1chsxd5-0"})(["",""],t=>t.$_css),d=(0,i.ZP)("h2").withConfig({displayName:"Header___StyledH2",componentId:"sc-1chsxd5-1"})(["",""],t=>t.$_css2),m=(0,i.ZP)("div").withConfig({displayName:"Header___StyledDiv",componentId:"sc-1chsxd5-2"})(["",""],t=>t.$_css3)},7480:function(t,e,r){"use strict";r.d(e,{Ao:function(){return d},UW:function(){return h},ge:function(){return m},wm:function(){return l}});var o=r(5893),i=r(9521);r(7294);var n=r(6893),s=r(6950),a=r(1664),c=r.n(a);let l=t=>{let{children:e,underline:r,href:i,...n}=t;return(0,o.jsx)(u,{href:i,...n,$_css:[{fontWeight:"600",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"},s.TM,r&&{borderBottomWidth:"2px","--tw-border-opacity":"1",borderBottomColor:"rgb(245 158 11 / var(--tw-border-opacity))",textDecorationLine:"none",":hover":{"--tw-border-opacity":"1",borderBottomColor:"rgb(217 119 6 / var(--tw-border-opacity))"},".dark &":{borderBottomColor:"rgb(245 158 11 / 0.9)"},".dark &:hover":{borderBottomColor:"rgb(251 191 36 / 0.9)"}}].concat(n.css),children:e})},d=i.ZP.span.withConfig({displayName:"Link__UnderlineLink",componentId:"sc-1j5r153-0"})({borderBottomWidth:"1px","--tw-border-opacity":"1",borderBottomColor:"rgb(245 158 11 / var(--tw-border-opacity))","--tw-text-opacity":"1",color:"rgb(245 158 11 / var(--tw-text-opacity))",textDecorationLine:"none",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":hover":{"--tw-border-opacity":"1",borderBottomColor:"rgb(217 119 6 / var(--tw-border-opacity))","--tw-text-opacity":"1",color:"rgb(217 119 6 / var(--tw-text-opacity))"},".dark &":{borderBottomColor:"rgb(245 158 11 / 0.9)",color:"rgb(245 158 11 / 0.9)"},".dark &:hover":{borderBottomColor:"rgb(251 191 36 / 0.9)",color:"rgb(251 191 36 / 0.9)"}}),m=(0,i.ZP)(n.Rgz).withConfig({displayName:"Link__LinkArrowRight",componentId:"sc-1j5r153-1"})({height:"1rem",width:"1rem",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",".group:hover &":{"--tw-translate-x":"0.25rem",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}),h=t=>{let{children:e,emoji:r,...i}=t;return(0,o.jsxs)(p,{...i,$_css2:[{display:"flex",borderRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 237 213 / var(--tw-bg-opacity))",padding:"1rem",".dark &":{"--tw-bg-opacity":"1",backgroundColor:"rgb(68 64 60 / var(--tw-bg-opacity))"}}].concat(i.css),children:[(0,o.jsx)("span",{className:"pr-4",children:r||"\uD83C\uDF1F"}),(0,o.jsx)("div",{children:e})]})};var u=(0,i.ZP)(c()).withConfig({displayName:"Link___StyledLink",componentId:"sc-1j5r153-2"})(["",""],t=>t.$_css),p=(0,i.ZP)("div").withConfig({displayName:"Link___StyledDiv",componentId:"sc-1j5r153-3"})(["",""],t=>t.$_css2)},2733:function(t,e,r){"use strict";r.r(e);var o=r(5893),i=r(9521),n=r(9008),s=r.n(n);r(7294);var a=r(8100),c=r(4910),l=r(9481),d=r(2539),m=r(7480);let h=t=>t<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(2)," KB"):t<1073741824?"".concat((t/1024/1024).toFixed(2)," MB"):"".concat((t/1024/1024/1024).toFixed(2)," GB"),u=t=>{let{title:e,status:r,children:i}=t;return(0,o.jsxs)("div",{className:"border-b-4 h-44 relative bg-light-300 dark:bg-dark-700 rounded p-4 transition-all duration-150 hover:shadow-lg hover:opacity-80",children:[(0,o.jsx)("div",{className:"font-bold my-2 text-xl text-gray-900/90 dark:text-light-100/90",children:e}),(0,o.jsx)("div",{className:"my-2 text-gray-900/90 dark:text-light-100/90 primary-text font-mono text-xs",children:i}),r?(0,o.jsx)("div",{className:"absolute inset-x-4 bottom-2 text-xl text-amber-500 dark:text-amber-500/90 font-semibold",children:"OK"}):(0,o.jsx)("div",{className:"absolute inset-x-4 bottom-2 text-xl text-gray-500 dark:text-gray-400/90 font-semibold",children:"FAILED"})]})},p=async()=>{let t=await navigator.serviceWorker.getRegistration();if(!t)return{registration:void 0};let e=await caches.open("kendrickzou-portfolio-cache"),r=await e.match(new Request("https://kendrickzou.com/db/kendrickzou-portfolio-version")),o=await caches.open("kendrickzou-portfolio-cache"),i=await o.keys().then(t=>{var e;return Promise.all(t.map(t=>o.match(t).then(t=>null!==(e=null==t?void 0:t.clone().blob().then(t=>t.size))&&void 0!==e?e:0))).then(t=>t.reduce((t,e)=>t+e,0))});return{registration:t,"portfolio-version":await (null==r?void 0:r.text()),size:i}},g=()=>{var t;let{data:e}=(0,a.ZP)("swReg",p);return(0,o.jsxs)(u,{title:"Service Worker",status:(null==e?void 0:e.registration)!==void 0,children:[(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"Registration: "}),(0,o.jsx)("span",{className:"font-semibold",children:(null==e?void 0:e.registration)!==void 0?"OK":"FAILED"})]}),(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"Version: "}),(0,o.jsx)("span",{className:"font-semibold",children:null!==(t=null==e?void 0:e["portfolio-version"])&&void 0!==t?t:"N/A"})]}),(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"Cache Size: "}),(0,o.jsx)("span",{className:"font-semibold",children:(null==e?void 0:e.size)!==void 0?h(e.size):"N/A"})]})]})},b=async()=>{let t=await fetch("https://registry.npmjs.org/kendrickzou-portfolio/latest"),e=await t.json();t=await fetch("https://registry.npmjs.org/kendrickzou-portfolio-img/latest");let r=await t.json();return{"portfolio-version":e.version,"portfolio-img-version":r.version}},v=()=>{var t,e;let{data:r}=(0,a.ZP)("cdn",b);return(0,o.jsxs)(u,{title:"CDN",status:null==r?void 0:r["portfolio-version"],children:[(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"Version: "}),(0,o.jsx)(m.wm,{className:"font-semibold underline",href:"https://www.npmjs.com/package/kendrickzou-portfolio",target:"_blank",children:null!==(t=null==r?void 0:r["portfolio-version"])&&void 0!==t?t:""})]}),(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsx)("span",{className:"",children:"IMG-Version: "}),(0,o.jsx)(m.wm,{className:"font-semibold underline",href:"https://www.npmjs.com/package/kendrickzou-portfolio-img",target:"_blank",children:null!==(e=null==r?void 0:r["portfolio-img-version"])&&void 0!==e?e:""})]})]})},x={"/api/bookmark/[url]":"https://api.kendrickzou.com/api/bookmark/https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV18K411o7k9%2F","/api/search/[query]":"https://api.kendrickzou.com/api/bookmark/https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1ZK411o7k9%2F"},f=async()=>Promise.all(Object.entries(x).map(async t=>{let[e,r]=t;return fetch(r).then(t=>t.status)})),w=()=>{var t;let{data:e}=(0,a.ZP)("/api",f),r=null!==(t=null==e?void 0:e.every(t=>200===t))&&void 0!==t&&t;return(0,o.jsx)(u,{title:"API",status:r,children:Object.entries(x).map((t,r)=>{let[i,n]=t;return(0,o.jsxs)("div",{className:"my-1",children:[(0,o.jsxs)("span",{className:"",children:[i,":"," "]}),(0,o.jsx)(m.wm,{className:"font-semibold underline",href:n,target:"_blank",children:null==e?void 0:e[r]})]},r)})})},k=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s(),{children:(0,o.jsx)("title",{children:"KendrickZou - Service Status"})}),(0,o.jsxs)(d.W,{children:[(0,o.jsx)(y,{children:"Service Status"}),(0,o.jsx)(l.H2,{children:"Portfolio"}),(0,o.jsxs)("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[(0,o.jsx)(g,{}),(0,o.jsx)(v,{}),(0,o.jsx)(w,{})]}),(0,o.jsx)("div",{className:"secondary-text text-xs mt-8 text-center font-mono",children:"Status of ServiceWorker is accessed from the browser directly, and that of CDN and API is fetched from remote npm.js and Vercel respectively."})]}),(0,o.jsx)("div",{className:"flex-1"})]});e.default=k;var y=(0,i.ZP)(l.H1).withConfig({displayName:"status___StyledH",componentId:"sc-1en0i6l-0"})(["",""],c.l)},6950:function(t,e,r){"use strict";r.d(e,{Ih:function(){return o},MQ:function(){return n},TM:function(){return s},go:function(){return i}});let o={color:"rgb(15 15 15 / 0.9)",".dark &":{color:"rgb(221 225 227 / 0.9)"}},i={color:"rgb(15 15 15 / 0.8)",".dark &":{color:"rgb(221 225 227 / 0.8)"}},n={color:"rgb(15 15 15 / 0.6)",".dark &":{color:"rgb(221 225 227 / 0.6)"}},s={"--tw-text-opacity":"1",color:"rgb(245 158 11 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":hover":{"--tw-text-opacity":"1",color:"rgb(217 119 6 / var(--tw-text-opacity))"},".dark &":{color:"rgb(245 158 11 / 0.9)"},".dark &:hover":{color:"rgb(251 191 36 / 0.9)"}}}},function(t){t.O(0,[521,100,774,888,179],function(){return t(t.s=9377)}),_N_E=t.O()}]);